(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[9544],{79544:n=>{n.exports="import {AsyncPipe} from '@angular/common';\nimport {ChangeDetectionStrategy, Component, Inject, Input} from '@angular/core';\nimport {TuiActiveZoneModule} from '@taiga-ui/cdk';\nimport {TuiButtonModule, TuiHostedDropdownModule} from '@taiga-ui/core';\nimport {\n    AbstractTuiEditor,\n    TUI_EDITOR_OPTIONS,\n    TuiColorSelectorComponent,\n    TuiEditorOptions,\n    TuiTiptapEditorService,\n} from '@tinkoff/tui-editor';\nimport {distinctUntilChanged, map, share} from 'rxjs';\n\n@Component({\n    standalone: true,\n    selector: 'custom-color-picker',\n    imports: [\n        TuiActiveZoneModule,\n        TuiHostedDropdownModule,\n        TuiButtonModule,\n        AsyncPipe,\n        TuiColorSelectorComponent,\n    ],\n    templateUrl: './custom-color-picker.component.html',\n    styleUrls: ['./custom-color-picker.component.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomColorPickerComponent {\n    @Input()\n    colors: ReadonlyMap<string, string> = this.defaultOptions.colors;\n\n    @Input()\n    icon?: string;\n\n    @Input()\n    type!: 'BackgroundColor' | 'FontColor';\n\n    selectedColor = '';\n\n    readonly fontColor$ = this.editor.stateChange$.pipe(\n        map(() =>\n            this.editor.getOriginTiptapEditor().isFocused\n                ? this.editor[`get${this.type}` as const]?.() || 'transparent'\n                : 'transparent',\n        ),\n        distinctUntilChanged(),\n        share(),\n    );\n\n    constructor(\n        @Inject(TUI_EDITOR_OPTIONS)\n        private readonly defaultOptions: TuiEditorOptions,\n        @Inject(TuiTiptapEditorService) readonly editor: AbstractTuiEditor,\n    ) {}\n\n    onValueChange(color: string): void {\n        this.selectedColor = color;\n    }\n\n    setColor(): void {\n        this.editor[`set${this.type}` as const]?.(this.selectedColor);\n    }\n}\n"}}]);