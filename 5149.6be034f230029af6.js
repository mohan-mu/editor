(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[5149],{45149:(e,t,o)=>{o.r(t),o.d(t,{default:()=>k});var n=o(28941),i=o(86841),r=o(82580),s=o(33893),a=o(88692),d=o(20092),l=o(84967),u=o(5490);function c(e){return t=>(e.loading$.next(!0),(0,l.D)(t.map((t=>e.upload(t)))).pipe((0,u.x)((()=>e.loading$.next(!1)))))}var p=o(8239),h=o(54121),f=o(10985),T=o(27969),m=o(64537);let v=(()=>{class e{constructor(){this.loading$=new h.X(!1)}upload(e){const t=new FormData;return t.append("file",e,e.name),t.append("expires","1d"),t.append("autoDelete","true"),(0,f.D)(fetch("https://file.io/",{method:"POST",body:t}).then(function(){var e=(0,p.Z)((function*(e){return e.json()}));return function(t){return e.apply(this,arguments)}}())).pipe((0,T.U)((e=>({name:e.name,link:e.link}))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=m.Yz7({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var g=o(57634);let _=(()=>{class e{constructor(e){this.fileIoService=e,this.builtInTools=[s.TuiEditorTool.Undo,s.TuiEditorTool.Link,s.TuiEditorTool.Attach],this.control=new d.NI("")}attach(e){e.forEach((e=>{var t,o;return null===(o=null===(t=this.wysiwyg)||void 0===t?void 0:t.editor)||void 0===o?void 0:o.setFileLink(e)}))}}return e.ɵfac=function(t){return new(t||e)(m.Y36(v))},e.ɵcmp=m.Xpm({type:e,selectors:[["tui-editor-upload-files-example-1"]],viewQuery:function(e,t){if(1&e&&m.Gf(s.TuiEditorComponent,5),2&e){let e;m.iGM(e=m.CRH())&&(t.wysiwyg=e.first)}},standalone:!0,features:[m._Bn([{provide:s.TUI_EDITOR_EXTENSIONS,useValue:[Promise.resolve().then(o.bind(o,33893)).then((({TuiStarterKit:e})=>e)),Promise.resolve().then(o.bind(o,84402)).then((({TextStyle:e})=>e)),Promise.resolve().then(o.bind(o,33893)).then((({TuiLink:e})=>e)),Promise.resolve().then(o.bind(o,33893)).then((({TuiJumpAnchor:e})=>e)),Promise.resolve().then(o.bind(o,33893)).then((({TuiFileLink:e})=>e))]},{provide:s.TUI_ATTACH_FILES_LOADER,deps:[v],useFactory:c}]),m.jDz],decls:10,vars:7,consts:[[3,"showLoader"],[1,"editor",3,"formControl","tools","fileAttached"],[3,"content"]],template:function(e,t){1&e&&(m.TgZ(0,"tui-loader",0),m.ALo(1,"async"),m.TgZ(2,"tui-editor",1),m.NdJ("fileAttached",(function(e){return t.attach(e)})),m.qZA()(),m.TgZ(3,"h4"),m._uU(4,"HTML:"),m.qZA(),m._UZ(5,"tui-editor-socket",2),m.TgZ(6,"h4"),m._uU(7,"Text:"),m.qZA(),m.TgZ(8,"p"),m._uU(9),m.qZA()),2&e&&(m.Q6J("showLoader",!!m.lcZ(1,5,t.fileIoService.loading$)),m.xp6(2),m.Q6J("formControl",t.control)("tools",t.builtInTools),m.xp6(3),m.Q6J("content",t.control.value||""),m.xp6(4),m.Oqu(t.control.value))},dependencies:[r.dSp,g.k,a.Ov,d.UX,d.JJ,d.oH,s.TuiEditorComponent,s.TuiEditorSocketComponent],styles:[".editor[_ngcontent-%COMP%]     .tui-editor-socket .ProseMirror{min-height:10rem}"],changeDetection:0}),e})();var w=o(65490),E=o(52442),Z=o(73460);let k=(()=>{class e{constructor(){this.example1={TypeScript:o.e(4401).then(o.t.bind(o,44401,17)),HTML:o.e(5468).then(o.t.bind(o,35468,17)),LESS:o.e(1628).then(o.t.bind(o,41628,17)),"./filesio.service.ts":o.e(4254).then(o.t.bind(o,24254,17)),"./file-loader.ts":o.e(1374).then(o.t.bind(o,1374,17))}}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["editor-upload-files"]],standalone:!0,features:[m._Bn([{provide:s.TUI_EDITOR_EXTENSIONS,useValue:s.defaultEditorExtensions}]),m.jDz],decls:11,vars:1,consts:[["header","Editor","type","components"],["href","https://www.tiptap.dev/","tuiLink",""],["fragment","sanitizer","routerLink","/icons/bundled","tuiLink",""],["id","upload-file","description","100 uploads per day, 2GB file size limit, files auto-deleted after 1 download","heading","Upload files",3,"content"]],template:function(e,t){1&e&&(m.TgZ(0,"tui-doc-page",0)(1,"p"),m._uU(2," Rich Text Editor based on "),m.TgZ(3,"a",1),m._uU(4," TipTap Editor "),m.qZA(),m._uU(5," for using with Angular forms. For safety reasons use a "),m.TgZ(6,"a",2),m._uU(7," sanitizer "),m.qZA(),m._uU(8," with this component. "),m.qZA(),m.TgZ(9,"tui-doc-example",3),m._UZ(10,"tui-editor-upload-files-example-1"),m.qZA()()),2&e&&(m.xp6(9),m.Q6J("content",t.example1))},dependencies:[i.u4,w.f,_,i.Lq,E.q,r.jzK,Z.V,n.rH],encapsulation:2,changeDetection:0}),e})()}}]);